{% set active_page = 'accounts' %}
{% extends "layout.html" %}
{% block title %}List of running bots{% endblock title %}
{% block content %}
<div class="container" style="max-width: 75%;margin-top: 50px;margin-left: auto;margin-right:auto;">
    <div class="row">
      <table class="table" id="bot-list-table">
        <thead>
          <tr>
            <th>Username</th>
            <th class="text-right">Pok&eacute;mons</th>
            <th class="text-right">Level</th>
            <th class="text-center">Progress</th>
            <th class="text-right">Exp. pr. hour</th>
          </tr>
        </thead>
        <tbody>
        {% for user in users %}
        <tr>
          <td><a href="/{{user.username}}/status">{{user.username}}</a></td>
          <td class="text-right">{{user["unique_pokedex_entries"]}} / 151</td>
          <td class="text-right">{{user['level']}}</td>
          <td>
            <!--<div style="display: inline-block;margin-right:10px;">{{user["level_xp"]}} / {{user["goal_xp"]}}</div>-->
            <div class="progress">
              <div class="progress-bar" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: {{ ((user["level_xp"] / user["goal_xp"] * 100))|int }}%;">
                {{ (user["level_xp"] / user["goal_xp"] * 100)|int }}%
              </div>
            </div>
          </td>
          <td class="text-right">{{user['hourly_exp']|int}}</td>
        </tr>
        {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS"
    crossorigin="anonymous"></script>
  <script src="https://cdn.datatables.net/1.10.7/js/jquery.dataTables.min.js"></script>

  <script>
      $(document).ready(function () {
        $('#bot-list-table').dataTable({
          order: [[ 0, "desc" ]],
          searching: false,
          paging: false
        });
    });
    </script>
{% endblock content %}